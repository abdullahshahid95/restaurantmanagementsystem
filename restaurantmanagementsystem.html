<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Resturant Management System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="css/bootstrap.min.css" />
    <script src="js/bootstrap.min.js"></script> -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
    <script src="resturantManagementSystem.js"></script>
    <style>
        td{
            border-left: 2px solid #c1c1c1;
            vertical-align: top;
        }
    </style>
</head>
<body>
    <hr>
    <h1>Resturant Management System</h1>
    <hr>
    <form class="orderform">
        <table>
            <td>
                <h2>Order Input</h2>
                <div class="form-group">
                    <h3 id="tableno"></h3>
                </div>
                <div class="form-group">
                    <label>Pakistani Menu</label>
                    <select id="pakmenu">
                    </select>
                </div>
                <div class="form-group">
                        <label>Chinese Menu</label>
                        <select id="chinesemenu">
                        </select>
                </div>
                <div class="form-group">
                        <label>Refreshment</label>
                        <select id="refreshment">
                        </select>
                </div>
                <div class="form-group">
                    <label>Name</label>
                    <input type="text" id="name" required>
                </div>
            </td>
        </table>
        <button type="submit" class="btn btn-primary" onclick="orderinfo()" id="btnsubmit">Submit</button>
    </form>
    &copy; Apptron Technologies

    <script>
        var pakMenuItems = [{name: "Biryani", price: 300, value: 1}];
        var chineseMenuItems = [];
        var refreshmentItems = [{name: "Tea", price: 20, value: 1},
                                {name: "Mineral Water", price: 30, value: 2}];
        var tableNumber;
        function assignList()
        {
            tableNumber = 5
            document.getElementById("tableno").innerHTML = "Table number: " + tableNumber;
            //List for Pakistani Menu
            pakMenuItems.push({name: "Creamy moong daal", price: 500, value: 2});

            for(var i = 3; i <= 15; i++)
            {
                pakMenuItems.push({name: "xyz", price: 500, value: i});
            }

            var pakMenuList = document.getElementById("pakmenu");
            pakMenuItems.forEach(element => {
                var option = document.createElement("option");
                option.text = element.name + ": Rs." + element.price;
                option.value = element.value;
                pakMenuList.add(option);
            });

            //List for Chinese Menu
            for(var i = 1; i <= 20; i++)
            {
                chineseMenuItems.push({name: "xyz", price: 1000, value: i});
            }

            var chineseMenuList = document.getElementById("chinesemenu");
            chineseMenuItems.forEach(element => {
                var option = document.createElement("option");
                option.text = element.name + ": Rs." + element.price;
                option.value = element.value;
                chineseMenuList.add(option);
            });

            //List for Refreshment
            var refreshmentList = document.getElementById("refreshment");
            refreshmentItems.forEach(element => {
                var option = document.createElement("option");
                option.text = element.name + ": Rs." + element.price;
                option.value = element.value;
                refreshmentList.add(option);
            });
        }
        assignList();

        function orderinfo()
        {
            document.querySelector('form.orderform').addEventListener('submit', function (e){
                e.preventDefault();
            });

            var pakItemValue = parseInt(document.getElementById("pakmenu").value);
            var chineseItemValue = parseInt(document.getElementById("chinesemenu").value);
            var refreshmentItemValue = parseInt(document.getElementById("refreshment").value);

            var pakItem, chineseItem, refreshmentItem;
            var pakItemPrice, chineseItemPrice, refreshmentItemPrice;

            pakMenuItems.forEach(element => {
                if(element.value == pakItemValue)
                {
                    pakItem = element.name;
                    pakItemPrice = parseFloat(element.price);
                }
                
            });

            chineseMenuItems.forEach(element => {
                if(element.value == chineseItemValue)
                {
                    chineseItem = element.name;
                    chineseItemPrice = parseFloat(element.price);
                }
                
            });

            refreshmentItems.forEach(element => {
                if(element.value == refreshmentItemValue)
                {
                    refreshmentItem = element.name;
                    refreshmentItemPrice = parseFloat(element.price);
                }
                
            });

            alert("You ordered:\n\n" + 
                    "Pakistani menu: "+ pakItem + "\n\n" + 
                    "Chinese menu: " + chineseItem + "\n\n" +
                    "Refreshment: " + refreshmentItem + "\n\n" +
                    "Duration: 10 minutes");
            
            alert("Your table: " + tableNumber + "\n\n"
                 + pakItem + ": Rs." + pakItemPrice + "\n\n"
                 + chineseItem + ": Rs." + chineseItemPrice + "\n\n"
                 + refreshmentItem + ": Rs." + refreshmentItemPrice + "\n\n"
                 + "Total: Rs." + (pakItemPrice + chineseItemPrice + refreshmentItemPrice));
            
        }
    </script>
</body>
</html>